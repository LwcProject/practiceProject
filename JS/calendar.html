<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style>
  .clear:after{
		content:"";
		display:table;
		clear:both;
  }
  .left{
	float:left;
  }
  ul{
	padding:0px;
	margin-top:5px;
	margin-bottom:0px;
  }
	ul>li{
		float:left;
		list-style:none;
		width:30px;
		height: 21px;
		border: 1px solid #ccc;
		text-align:center;
	}
	.gray{
		color:#766565;
	}
	.top {
		height:17px;
	}
	.top .lf-tri{
		border:5px solid transparent;
		border-right-color:black;
		width:5px;
		margin-top:4px;
	}
	.top .rf-tri{
		border:5px solid transparent;
		border-left-color:black;
		width:5px;
		margin-top:4px;
	}
	.top .content{
		width:178px;
		height:5px;
		text-align:center;
	}
  </style>
 </head>
 <body>
	<div class="top clear">
		<div class="left lf-tri"></div>
		<div class="left content">2017年2月</div>
		<div class="left rf-tri"></div>
	</div>
	<div>
		<div id="week">
			<ul class="clear">
				<li>日</li>
				<li>一</li>
				<li>二</li>
				<li>三</li>
				<li>四</li>
				<li>五</li>
				<li>六</li>
			<ul>
		</div>
		<div id="date">
			<ul class="clear">
				<li class="gray">30</li>
				<li class="gray">31</li>
				<li>1</li>
				<li>2</li>
				<li>3</li>
				<li>4</li>
				<li>5</li>
			</ul>
			<ul class="clear">
				<li>6</li>
				<li>7</li>
				<li>8</li>
				<li>9</li>
				<li>10</li>
				<li>11</li>
				<li>12</li>
			</ul>
			<ul class="clear">
				<li>13</li>
				<li>14</li>
				<li>15</li>
				<li>16</li>
				<li>17</li>
				<li>18</li>
				<li>19</li>
			</ul>
			<ul class="clear">
				<li>20</li>
				<li>21</li>
				<li>22</li>
				<li>23</li>
				<li>24</li>
				<li>25</li>
				<li>26</li>
			</ul>
			<ul class="clear">
				<li>27</li>
				<li>28</li>
				<li class="gray">1</li>
				<li class="gray">2</li>
				<li class="gray">3</li>
				<li class="gray">4</li>
				<li class="gray">5</li>
			</ul>
			<ul class="clear">
				<li>27</li>
				<li>28</li>
				<li class="gray">1</li>
				<li class="gray">2</li>
				<li class="gray">3</li>
				<li class="gray">4</li>
				<li class="gray">5</li>
			</ul>
		</div>
	 </div>
  <script>

	function $(id){
		return document.getElementById(id);
	}

	function loadCalender() {
		// 或当前时间
		var today = new Date()
		// 获得年，月 
		var year = today.getFullYear(), month = today.getMonth()
		// 获得当月1号星期数  ***
		var firstDay = (new Date(year, month, 1)).getDay()
		// 获取当月天数 **
		var totalDays = getMonthDates(year, month+1)

		// 枚举所有 ul li 填充日历号
		var uls=$("date").children;
		// 类数组对象 转 数组
		uls = Array.prototype.slice.call(uls)
		var num=1;
		// 类数组对象 转 数组
		// Array.prototype.slice.call()
		for(var key in uls){
			// 每一行ul 里的li 
			var lis = Array.prototype.slice.call(uls[key].children)
			// for 每个 li 填充 值
			// 第一行需要判断第一天所在星期
			for(var li in lis){
				// var inner = ""
				if (key === '0') {
					if (li >= firstDay) {
						lis[li].innerHTML=num++;
					}else{
						lis[li].innerHTML = ""
					}
				}else {
					if(num <= totalDays) {
						lis[li].innerHTML=num++;
					}else {
						lis[li].innerHTML = ""
					}
					
				}
			}
		}

	}
	

	// 获取单月天数
	function getMonthDates(year, month) {
		var totalDays = 28
		// 是否2月
		if (month === 2)
		{
			// 是否闰年
			if((year % 4 == 0 && year % 100 != 0) || year % 400 == 0) {
				totalDays = 29
			}else {
				totalDays = 28
			}
		}
		// 是否 大于7
		else {
			if(month < 8) {
				// 月大
				totalDays = month%2 === 1 ? 31 : 30;

			}else {
				totalDays = month%2 === 0 ? 31 : 30;
			}
		}

		return totalDays
	}
	loadCalender()
	 </script>
 </body>
</html>
